<div class="upload-wrapper">
  <label class="compact-upload-tile" [class.has-image]="previewUrl">
    <input type="file" (change)="onFileSelected($event)" accept="image/*" hidden>
    
    @if (!previewUrl) {
      <div class="state-container">
        <mat-icon>add_a_photo</mat-icon>
        <span class="tile-label">Add Photo</span>
      </div>
    } @else {
      <div class="state-container preview">
        <img [src]="previewUrl" alt="Preview" class="tile-img">
        <div class="hover-overlay">
          <mat-icon>refresh</mat-icon>
        </div>
      </div>
    }
  </label>

  @if (isUploading) {
    <div class="mini-progress">
      <div class="fill"></div>
    </div>
  }
</div>