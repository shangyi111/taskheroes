<header>
  <nav class="nav-container">
    @if (isLoggedIn()) {
      @if (this.userData$ | async; as user) {
        <div class="logo-group">
          <a [routerLink]="['/user', user.id]" class="brand">TaskHeroes</a>
          <span class="role-badge">{{ user.role }}</span>
        </div>

        <div class="menu">
          @if (user.role === 'seeker') {
            <a [routerLink]="['/user', user.id, 'seeker']">Search</a>
            <a [routerLink]="['/user', user.id, 'seeker','orders']">Orders</a>
            <a [routerLink]="['/seeker', user.id, 'chatrooms']">Messages</a>
          } @else {
            <a [routerLink]="['/user', user.id, 'provider']">Business Page</a>
            <a [routerLink]="['/user', user.id, 'provider','jobs']">Jobs</a>
            <a [routerLink]="['/provider', user.id, 'chatrooms']">Messages</a>
          }
          <a [routerLink]="['/user', user.id, 'profile']">Profile</a>

          <div class="nav-divider"></div>

          <button class="switch-btn" (click)="toggleRole(user)">
            Switch to {{ user.role === 'seeker' ? 'Provider' : 'Seeker' }}
          </button>

          <button class="logout-btn" (click)="logout()">Logout</button>
        </div>
      }
    } @else {
      <div class="logo-group">  
        <a routerLink="/login" class="brand">TaskHeroes</a>
      </div>
      
      <div class="menu">
        <a routerLink="/login">Login</a>
        <a routerLink="/register" class="register-link">Register</a>
      </div>
    }
  </nav>
</header>